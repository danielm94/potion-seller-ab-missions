on_new_monarch = {
	if = {
		limit = {
			has_reform = appointive_voivodate
		}
		random_list = {
			10 = {
				set_dynasty = "Racovita"
				add_ruler_personality = zealot_personality
			}
			10 = {
				set_dynasty = "Movilesti"
				add_ruler_personality = silver_tongue_personality
			}
			10 = {
				set_dynasty = "Mavrocordatos"
				add_ruler_personality = midas_touched_personality
			}
			10 = {
				set_dynasty = "Ghica"
				add_ruler_personality = silver_tongue_personality
			}
			10 = {
				set_dynasty = "Cantacuzino"
				add_ruler_personality = scholar_personality
			}
			10 = {
				set_dynasty = "Bibescu"
				add_ruler_personality = charismatic_negotiator_personality
			}
			10 = {
				set_dynasty = "Draculesti"
				add_ruler_personality = bold_fighter_personality
			}
			10 = {
				set_dynasty = "Danesti"
				add_ruler_personality = strict_personality
			}
			10 = {
				set_dynasty = "Basarab"
				add_ruler_personality = righteous_personality
			}
			10 = {
				set_dynasty = "Brancoveanu"
				add_ruler_personality = architectural_visionary_personality
			}
		}
	}
}

on_monarch_death = {
	if = {
		limit = {
			has_reform = wallachian_elective_monarchy
			NOT = {
				has_country_flag = council_of_ten_regency
			}
		}
		set_country_flag = council_of_ten_regency
		define_ruler = {
			regency = yes
			name = "The Council of Ten"
			dip = 2
			adm = 2
			mil = 2
			max_age = 20
		}
		country_event = {
			id = AB_wallachia_events.11
		}
	}
}

on_new_monarch = {
	if = {
		limit = {
			has_reform = wallachian_elective_monarchy
			has_country_flag = council_of_ten_regency
			has_regency = no
		}
		clr_country_flag =  council_of_ten_regency
	}
}


on_siege_won_country = {
	if = {
		limit = {
			FROM = {
				owner = {
					is_in_war_of_the_ten_houses_disaster = yes
				}
				is_capital = yes
			}
			tag = REB
		}
		FROM = {
			owner = {
				set_country_flag = wallachian_civil_war_voivode_was_captured
			}
		}
	}
}
