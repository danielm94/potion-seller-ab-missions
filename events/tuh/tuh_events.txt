namespace = tuh_events
country_event = {
	id = tuh_events.0
	title = tuh_events.0.t
	desc = tuh_events.0.d
	picture = NOBLE_ESTATE_DEMANDS_eventPicture
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			random_variable = {
				which = random_house
				value = 10
			}
			round_variable = {
				which = random_house
				value = -1
			}
			while = {
				limit = {
					is_variable_equal = {
						which = random_house
						which = tuh_current_house
					}
				}
				random_variable = {
					which = random_house
					value = 10
				}
				round_variable = {
					which = random_house
					value = -1
				}
			}
			if = {
				limit = {
					is_var_basarab = {
						var = random_house
					}
				}
				define_exiled_ruler = {
					exiled_as = tuh_elections_pretender
					dynasty = "Basarab"
					min_age = 20
					max_age = 75
				}
			}
			else_if = {
				limit = {
					is_var_bibescu = {
						var = random_house
					}
				}
				define_exiled_ruler = {
					exiled_as = tuh_elections_pretender
					dynasty = "Bibescu"
					min_age = 20
					max_age = 75
				}
			}
			else_if = {
				limit = {
					is_var_draculesti = {
						var = random_house
					}
				}
				define_exiled_ruler = {
					exiled_as = tuh_elections_pretender
					dynasty = "Draculesti"
					min_age = 20
					max_age = 75
				}
			}
			else_if = {
				limit = {
					is_var_brancoveanu = {
						var = random_house
					}
				}
				define_exiled_ruler = {
					exiled_as = tuh_elections_pretender
					dynasty = "Brancoveanu"
					min_age = 20
					max_age = 75
				}
			}
			else_if = {
				limit = {
					is_var_movilesti = {
						var = random_house
					}
				}
				define_exiled_ruler = {
					exiled_as = tuh_elections_pretender
					dynasty = "Movilesti"
					min_age = 20
					max_age = 75
				}
			}
			else_if = {
				limit = {
					is_var_danesti = {
						var = random_house
					}
				}
				define_exiled_ruler = {
					exiled_as = tuh_elections_pretender
					dynasty = "Danesti"
					min_age = 20
					max_age = 75
				}
			}
			else_if = {
				limit = {
					is_var_ghica = {
						var = random_house
					}
				}
				define_exiled_ruler = {
					exiled_as = tuh_elections_pretender
					dynasty = "Ghica"
					min_age = 20
					max_age = 75
				}
			}
			else_if = {
				limit = {
					is_var_racovita = {
						var = random_house
					}
				}
				define_exiled_ruler = {
					exiled_as = tuh_elections_pretender
					dynasty = "Racovita"
					min_age = 20
					max_age = 75
				}
			}
			else_if = {
				limit = {
					is_var_cantacuzino = {
						var = random_house
					}
				}
				define_exiled_ruler = {
					exiled_as = tuh_elections_pretender
					dynasty = "Cantacuzino"
					min_age = 20
					max_age = 75
				}
			}
			else_if = {
				limit = {
					is_var_mavrocordatos = {
						var = random_house
					}
				}
				define_exiled_ruler = {
					exiled_as = tuh_elections_pretender
					dynasty = "Mavrocordatos"
					min_age = 20
					max_age = 75
				}
			}
		}
	}
	option = {
		name = tuh_events.0.a
		if = {
			limit = {
				is_var_basarab = {
					var = random_house
				}
			}
			random_owned_province = {
				tuh_spawn_pretenders_who_reject_election = {
					dynasty = "Basarab"
				}
			}
		}
		else_if = {
			limit = {
				is_var_bibescu = {
					var = random_house
				}
			}
			random_owned_province = {
				tuh_spawn_pretenders_who_reject_election = {
					dynasty = "Bibescu"
				}
			}
		}
		else_if = {
			limit = {
				is_var_draculesti = {
					var = random_house
				}
			}
			random_owned_province = {
				tuh_spawn_pretenders_who_reject_election = {
					dynasty = "Draculesti"
				}
			}
		}
		else_if = {
			limit = {
				is_var_brancoveanu = {
					var = random_house
				}
			}
			random_owned_province = {
				tuh_spawn_pretenders_who_reject_election = {
					dynasty = "Brancoveanu"
				}
			}
		}
		else_if = {
			limit = {
				is_var_movilesti = {
					var = random_house
				}
			}
			random_owned_province = {
				tuh_spawn_pretenders_who_reject_election = {
					dynasty = "Movilesti"
				}
			}
		}
		else_if = {
			limit = {
				is_var_danesti = {
					var = random_house
				}
			}
			random_owned_province = {
				tuh_spawn_pretenders_who_reject_election = {
					dynasty = "Danesti"
				}
			}
		}
		else_if = {
			limit = {
				is_var_ghica = {
					var = random_house
				}
			}
			random_owned_province = {
				tuh_spawn_pretenders_who_reject_election = {
					dynasty = "Ghica"
				}
			}
		}
		else_if = {
			limit = {
				is_var_racovita = {
					var = random_house
				}
			}
			random_owned_province = {
				tuh_spawn_pretenders_who_reject_election = {
					dynasty = "Racovita"
				}
			}
		}
		else_if = {
			limit = {
				is_var_cantacuzino = {
					var = random_house
				}
			}
			random_owned_province = {
				tuh_spawn_pretenders_who_reject_election = {
					dynasty = "Cantacuzino"
				}
			}
		}
		else_if = {
			limit = {
				is_var_mavrocordatos = {
					var = random_house
				}
			}
			random_owned_province = {
				tuh_spawn_pretenders_who_reject_election = {
					dynasty = "Mavrocordatos"
				}
			}
		}
	}
	option = {
		name = tuh_events.0.b
		custom_tooltip = tuh_events.0_pretender_tooltip
		hidden_effect = {
			set_ruler = tuh_elections_pretender
			add_legitimacy = -100
			add_legitimacy = 25
		}
		add_prestige = -20
		add_stability = -1
	}
	after = {
		clear_exiled_ruler = tuh_elections_pretender
	}
}
