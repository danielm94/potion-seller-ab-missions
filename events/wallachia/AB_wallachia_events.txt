namespace = AB_wallachia_events
#Give heir impaler trait
country_event = {
	id = AB_wallachia_events.0
	title = AB_wallachia_events.0.t
	desc = AB_wallachia_events.0.d
	picture = AB_LOTHAIR_eventPicture
	is_triggered_only = yes
	hidden = yes
	immediate = {
		add_heir_personality = impaler_personality
	}
	option = {
		name = blank
	}
}

#Give ruler impaler trait
country_event = {
	id = AB_wallachia_events.1
	title = AB_wallachia_events.1.t
	desc = AB_wallachia_events.1.d
	picture = AB_LOTHAIR_eventPicture
	is_triggered_only = yes
	hidden = yes
	immediate = {
		add_ruler_personality = impaler_personality
	}
	option = {
		name = blank
	}
}

#Disable razing
country_event = {
	id = AB_wallachia_events.2
	title = AB_wallachia_events.2.t
	desc = AB_wallachia_events.2.d
	picture = AB_LOTHAIR_eventPicture
	is_triggered_only = yes
	hidden = yes
	immediate = {
		disable_razing = yes
	}
	option = {
		name = blank
	}
}

#Disable terror gain from battles.
country_event = {
	id = AB_wallachia_events.3
	title = AB_wallachia_events.3.t
	desc = AB_wallachia_events.3.d
	picture = AB_LOTHAIR_eventPicture
	is_triggered_only = yes
	hidden = yes
	immediate = {
		clr_country_flag = wallachian_terror_gain_terror_from_dead_enemies
	}
	option = {
		name = blank
	}
}

#The Banquet of Blood - Via Terror Interaction
country_event = {
	id = AB_wallachia_events.4
	title = AB_wallachia_banquet_of_blood_title
	desc = AB_wallachia_events.4.d
	picture = GFX_AB_wallachia_events.4
	is_triggered_only = yes
	major = yes
	major_trigger = {
		knows_country = THIS
	}
	option = {
		name = AB_ACHIEVEMENT_NEXT_PAGE
		country_event = {
			id = AB_wallachia_events.5
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = AB_wallachia_events_banquet_of_blood_tldr
		highlight = yes
		wallachian_civil_war_banquet_of_blood_effect = yes
	}
}

#The Banquet of Blood (Contd)
country_event = {
	id = AB_wallachia_events.5
	title = AB_wallachia_banquet_of_blood_contd_title
	desc = AB_wallachia_events.5.d
	picture = GFX_AB_wallachia_events.4
	is_triggered_only = yes
	option = {
		name = AB_ACHIEVEMENT_PREVIOUS_PAGE
		country_event = {
			id = AB_wallachia_events.4
		}
	}
	option = {
		name = AB_ACHIEVEMENT_NEXT_PAGE
		country_event = {
			id = AB_wallachia_events.6
		}
	}
	option = {
		name = AB_wallachia_events_banquet_of_blood_page2_tldr
		highlight = yes
		wallachian_civil_war_banquet_of_blood_effect = yes
	}
}

#The Banquet of Blood (Contd)
country_event = {
	id = AB_wallachia_events.6
	title = AB_wallachia_banquet_of_blood_contd_title
	desc = AB_wallachia_events.6.d
	picture = GFX_AB_wallachia_events.4
	is_triggered_only = yes
	option = {
		name = AB_ACHIEVEMENT_PREVIOUS_PAGE
		country_event = {
			id = AB_wallachia_events.5
		}
	}
	option = {
		name = AB_ACHIEVEMENT_NEXT_PAGE
		country_event = {
			id = AB_wallachia_events.7
		}
	}
	option = {
		name = AB_wallachia_events_banquet_of_blood_page3_tldr
		highlight = yes
		wallachian_civil_war_banquet_of_blood_effect = yes
	}
}

#The Banquet of Blood (Contd)
country_event = {
	id = AB_wallachia_events.7
	title = AB_wallachia_banquet_of_blood_contd_title
	desc = AB_wallachia_events.7.d
	picture = GFX_AB_wallachia_events.4
	is_triggered_only = yes
	option = {
		name = AB_ACHIEVEMENT_PREVIOUS_PAGE
		country_event = {
			id = AB_wallachia_events.6
		}
	}
	option = {
		name = AB_ACHIEVEMENT_NEXT_PAGE
		country_event = {
			id = AB_wallachia_events.8
		}
	}
	option = {
		name = AB_wallachia_events_banquet_of_blood_page4_tldr
		highlight = yes
		wallachian_civil_war_banquet_of_blood_effect = yes
	}
}

#The Banquet of Blood (Contd)
country_event = {
	id = AB_wallachia_events.8
	title = AB_wallachia_banquet_of_blood_contd_title
	desc = AB_wallachia_events.8.d
	picture = GFX_AB_wallachia_events.4
	is_triggered_only = yes
	option = {
		name = AB_ACHIEVEMENT_PREVIOUS_PAGE
		country_event = {
			id = AB_wallachia_events.7
		}
	}
	option = {
		name = AB_wallachia_events_banquet_of_blood_page5_tldr
		highlight = yes
		add_ruler_modifier = {
			name = banquet_of_blood_well_read
			duration = -1
		}
		wallachian_civil_war_banquet_of_blood_effect = yes
	}
}

#The Fate of the Moldavian Nobles
country_event = {
	id = AB_wallachia_events.9
	title = AB_wallachia_events.9.t
	desc = AB_wallachia_events.9.d
	picture = GFX_AB_wallachia_events.9
	is_triggered_only = yes
	option = {
		name = AB_wallachia_events.9.a
		trigger = {
			NOT = {
				ruler_has_personality = impaler_personality
			}
		}
		change_estate_land_share = {
			estate = estate_nobles
			share = 5
		}
		add_accepted_culture_or_dip_power = {
			culture = Moldavian
		}
		custom_tooltip = AB_wallachia_events.9_province_bonus_tooltip
		tooltip = {
			add_province_modifier = {
				name = wallachia_integrating_the_moldavian_nobility
				duration = -1
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						area = moldavia_area
						area = bessarabia_area
					}
				}
				add_province_modifier = {
					name = wallachia_integrating_the_moldavian_nobility
					duration = -1
				}
			}
		}
	}
	option = {
		name = AB_wallachia_events.9.b
		trigger = {
			NOT = {
				ruler_has_personality = impaler_personality
			}
		}
		add_country_modifier = {
			name = wallachia_cut_a_deal_with_the_cossacks
			duration = -1
		}
		change_estate_land_share = {
			estate = estate_cossacks
			share = 5
		}
		add_estate_loyalty = {
			estate = estate_cossacks
			loyalty = 10
		}
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = -10
		}
		random_owned_province = {
			limit = {
				OR = {
					area = moldavia_area
					area = bessarabia_area
				}
			}
			spawn_small_scaled_rebels = {
				type = noble_rebels
				no_defined_leader = yes
			}
		}
	}
	option = {
		name = AB_wallachia_events.9.c
		highlight = yes
		trigger = {
			ruler_has_personality = impaler_personality
		}
		change_estate_land_share = {
			estate = estate_nobles
			share = -2
		}
		custom_tooltip = AB_wallachia_events.9_province_bonus_tooltip
		tooltip = {
			add_devastation = 15
			add_base_tax = -1
			add_local_autonomy = -30
			add_province_modifier = {
				name = wallachia_cut_down_the_moldavian_nobility
				duration = -1
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						area = moldavia_area
						area = bessarabia_area
					}
				}
				add_devastation = 15
				add_base_tax = -1
				add_local_autonomy = -30
				add_province_modifier = {
					name = wallachia_cut_down_the_moldavian_nobility
					duration = -1
				}
			}
		}
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = -10
		}
		random_owned_province = {
			limit = {
				OR = {
					area = moldavia_area
					area = bessarabia_area
				}
			}
			spawn_small_scaled_rebels = {
				type = noble_rebels
				no_defined_leader = yes
			}
		}
		random_owned_province = {
			limit = {
				OR = {
					area = moldavia_area
					area = bessarabia_area
				}
				has_rebels_in_province = no
			}
			spawn_small_scaled_rebels = {
				type = noble_rebels
				no_defined_leader = yes
			}
		}
		random_owned_province = {
			limit = {
				OR = {
					area = moldavia_area
					area = bessarabia_area
				}
				has_rebels_in_province = no
			}
			spawn_small_scaled_rebels = {
				type = noble_rebels
				no_defined_leader = yes
			}
		}
		change_terror = {
			value = 10
			scaled_with_gain_modifier = yes
		}
	}
}

#New traditions and ambitions for Dacia
country_event = {
	id = AB_wallachia_events.10
	title = AB_wallachia_events.10.t
	desc = AB_wallachia_events.10.d
	picture = ADVISOR_eventPicture
	is_triggered_only = yes
	option = {
		name = AB_wallachia_events.10.a
		swap_free_idea_group = yes
	}
	option = {
		name = AB_wallachia_events.10.b
		ai_chance = {
			factor = 0
		}
	}
}

#When the player takes the Roma eco reform. For some reason, the game crashes if you try to remove
#idea groups from governemnt reforms. Very stupid.
country_event = {
	id = AB_wallachia_events.11
	title = blank
	desc = blank
	picture = AB_LOTHAIR_eventPicture
	is_triggered_only = yes
	hidden = yes
	option = {
		name = blank
		if = {
			limit = {
				humanist_ideas = 7
			}
			add_adm_power = 280
		}
		else_if = {
			limit = {
				humanist_ideas = 6
			}
			add_adm_power = 240
		}
		else_if = {
			limit = {
				humanist_ideas = 5
			}
			add_adm_power = 200
		}
		else_if = {
			limit = {
				humanist_ideas = 4
			}
			add_adm_power = 160
		}
		else_if = {
			limit = {
				humanist_ideas = 3
			}
			add_adm_power = 120
		}
		else_if = {
			limit = {
				humanist_ideas = 2
			}
			add_adm_power = 80
		}
		else_if = {
			limit = {
				humanist_ideas = 1
			}
			add_adm_power = 40
		}
		remove_idea_group = humanist_ideas
	}
}

#New traditions and ambitions for The United Houses
country_event = {
	id = AB_wallachia_events.12
	title = AB_wallachia_events.10.t
	desc = AB_wallachia_events.12.d
	picture = ADVISOR_eventPicture
	is_triggered_only = yes
	option = {
		name = AB_wallachia_events.10.a
		swap_free_idea_group = yes
	}
	option = {
		name = AB_wallachia_events.10.b
		ai_chance = {
			factor = 0
		}
	}
}

#The great feast page 1
country_event = {
	id = AB_wallachia_events.13
	title = AB_wallachia_events.13.t
	desc = AB_wallachia_events.13.d
	picture = GFX_AB_wallachia_events.13
	is_triggered_only = yes
	option = {
		name = NEXT
	}
	option = {
		name = AB_wallachia_events.13.tldr
		hidden_effect = {
			remove_estate_privilege = estate_nobles_dominance_of_the_boierime
		}
		change_estate_land_share = {
			estate = estate_nobles
			share = -20
		}
		hidden_effect = {
			set_estate_privilege = estate_nobles_dominance_of_the_boierime
			tuh_faction_initialization_effect = yes
		}
		set_country_flag = wal_elective_monarchy
		add_government_reform = wallachian_elective_monarchy
	}
}

province_event = {
	id = AB_wallachia_events.20
	title = blank
	desc = blank
	picture = AB_LOTHAIR_eventPicture
	hidden = yes
	mean_time_to_happen = {
		months = 24
		modifier = {
			factor = 0.5
			nationalism = 0
		}
		modifier = {
			factor = 0.5
			NOT = {
				local_autonomy = 10
			}
		}
	}
	trigger = {
		owner = {
			has_country_flag = wal_romanianization_of_hungary
		}
		NOT = {
			culture_group = romanian_culture_group
		}
		culture_group = carpathian
		any_neighbor_province = {
			owned_by = ROOT
			culture_group = romanian_culture_group
		}
		owner = {
			OR = {
				NOT = {
					has_country_flag = wal_romanianized_hungary_recently
				}
				had_country_flag = {
					flag = wal_romanianized_hungary_recently
					days = 730
				}
			}
		}
		region = carpathia_region
		religion = ROOT
	}
	option = {
		name = blank
		
		ai_chance = {
			factor = 1
		}
		owner = {
			set_country_flag = wal_romanianized_hungary_recently
		}
		if = {
			limit = {
				OR = {
					area = transylvania_area
					area = southern_transylvania_area
				}
			}
			change_culture = transylvanian
		}
		else = {
			change_culture = panonic
		}
	}
}

country_event = {
	id = AB_wallachia_events.21
	title = AB_wallachia_events.21.t
	desc = AB_wallachia_events.21.d
	picture = GFX_AB_wallachia_events.21
	is_triggered_only = is_triggered_only
	option = {
		name = AB_wallachia_events.21.a
		
	}
}