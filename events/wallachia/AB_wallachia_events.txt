namespace = AB_wallachia_events

#Give heir impaler trait
country_event = {
	id = AB_wallachia_events.0
	title = AB_wallachia_events.0.t
	desc = AB_wallachia_events.0.d
	picture = AB_LOTHAIR_eventPicture
	is_triggered_only = yes
	hidden = yes
	immediate = {
		add_heir_personality = impaler_personality
	}
	option = {
		name = blank
	}
}

#Give ruler impaler trait
country_event = {
	id = AB_wallachia_events.1
	title = AB_wallachia_events.1.t
	desc = AB_wallachia_events.1.d
	picture = AB_LOTHAIR_eventPicture
	is_triggered_only = yes
	hidden = yes
	immediate = {
		add_ruler_personality = impaler_personality
	}
	option = {
		name = blank
	}
}

#Disable razing
country_event = {
	id = AB_wallachia_events.2
	title = AB_wallachia_events.2.t
	desc = AB_wallachia_events.2.d
	picture = AB_LOTHAIR_eventPicture
	is_triggered_only = yes
	hidden = yes
	immediate = {
		disable_razing = yes
	}
	option = {
		name = blank
	}
}

#Disable terror gain from battles.
country_event = {
	id = AB_wallachia_events.3
	title = AB_wallachia_events.3.t
	desc = AB_wallachia_events.3.d
	picture = AB_LOTHAIR_eventPicture
	is_triggered_only = yes
	hidden = yes
	immediate = {
		clr_country_flag = wallachian_terror_gain_terror_from_dead_enemies
	}
	option = {
		name = blank
	}
}

#The Banquet of Blood - Via Terror Interaction
country_event = {
	id = AB_wallachia_events.4
	title = AB_wallachia_banquet_of_blood_title
	desc = AB_wallachia_events.4.d
	picture = GFX_AB_wallachia_events.4
	is_triggered_only = yes
	major = yes
	major_trigger = {
		knows_country = THIS
	}
	option = {
		name = AB_ACHIEVEMENT_NEXT_PAGE
		country_event = {
			id = AB_wallachia_events.5
		}
		ai_chance = {
			factor = 0
		}
	}
	option = {
		name = AB_wallachia_events_banquet_of_blood_tldr
		highlight = yes
		wallachian_civil_war_banquet_of_blood_effect = yes
	}
}

#The Banquet of Blood (Contd)
country_event = {
	id = AB_wallachia_events.5
	title = AB_wallachia_banquet_of_blood_contd_title
	desc = AB_wallachia_events.5.d
	picture = GFX_AB_wallachia_events.4
	is_triggered_only = yes
	option = {
		name = AB_ACHIEVEMENT_PREVIOUS_PAGE
		country_event = {
			id = AB_wallachia_events.4
		}
	}
	option = {
		name = AB_ACHIEVEMENT_NEXT_PAGE
		country_event = {
			id = AB_wallachia_events.6
		}
	}
	option = {
		name = AB_wallachia_events_banquet_of_blood_page2_tldr
		highlight = yes
		wallachian_civil_war_banquet_of_blood_effect = yes
	}
}

#The Banquet of Blood (Contd)
country_event = {
	id = AB_wallachia_events.6
	title = AB_wallachia_banquet_of_blood_contd_title
	desc = AB_wallachia_events.6.d
	picture = GFX_AB_wallachia_events.4
	is_triggered_only = yes
	option = {
		name = AB_ACHIEVEMENT_PREVIOUS_PAGE
		country_event = {
			id = AB_wallachia_events.5
		}
	}
	option = {
		name = AB_ACHIEVEMENT_NEXT_PAGE
		country_event = {
			id = AB_wallachia_events.7
		}
	}
	option = {
		name = AB_wallachia_events_banquet_of_blood_page3_tldr
		highlight = yes
		wallachian_civil_war_banquet_of_blood_effect = yes
	}
}

#The Banquet of Blood (Contd)
country_event = {
	id = AB_wallachia_events.7
	title = AB_wallachia_banquet_of_blood_contd_title
	desc = AB_wallachia_events.7.d
	picture = GFX_AB_wallachia_events.4
	is_triggered_only = yes
	option = {
		name = AB_ACHIEVEMENT_PREVIOUS_PAGE
		country_event = {
			id = AB_wallachia_events.6
		}
	}
	option = {
		name = AB_ACHIEVEMENT_NEXT_PAGE
		country_event = {
			id = AB_wallachia_events.8
		}
	}
	option = {
		name = AB_wallachia_events_banquet_of_blood_page4_tldr
		highlight = yes
		wallachian_civil_war_banquet_of_blood_effect = yes
	}
}

#The Banquet of Blood (Contd)
country_event = {
	id = AB_wallachia_events.8
	title = AB_wallachia_banquet_of_blood_contd_title
	desc = AB_wallachia_events.8.d
	picture = GFX_AB_wallachia_events.4
	is_triggered_only = yes
	option = {
		name = AB_ACHIEVEMENT_PREVIOUS_PAGE
		country_event = {
			id = AB_wallachia_events.7
		}
	}
	option = {
		name = AB_wallachia_events_banquet_of_blood_page5_tldr
		highlight = yes
		add_ruler_modifier = {
			name = banquet_of_blood_well_read
			duration = -1
		}
		wallachian_civil_war_banquet_of_blood_effect = yes
	}
}

#The Fate of the Moldavian Nobles
country_event = {
	id = AB_wallachia_events.9
	title = AB_wallachia_events.9.t
	desc = AB_wallachia_events.9.d
	picture = GFX_AB_wallachia_events.9
	is_triggered_only = yes
	option = {
		name = AB_wallachia_events.9.a
		trigger = {
			NOT = {
				ruler_has_personality = impaler_personality
			}
		}
		change_estate_land_share = {
			estate = estate_nobles
			share = 5
		}
		add_accepted_culture_or_dip_power = {
			culture = Moldavian
		}
		custom_tooltip = AB_wallachia_events.9_province_bonus_tooltip
		tooltip = {
			add_province_modifier = {
				name = wallachia_integrating_the_moldavian_nobility
				duration = -1
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						area = moldavia_area
						area = bessarabia_area
					}
				}
				add_province_modifier = {
					name = wallachia_integrating_the_moldavian_nobility
					duration = -1
				}
			}
		}
	}
	option = {
		name = AB_wallachia_events.9.b
		trigger = {
			NOT = {
				ruler_has_personality = impaler_personality
			}
		}
		add_country_modifier = {
			name = wallachia_cut_a_deal_with_the_cossacks
			duration = -1
		}
		change_estate_land_share = {
			estate = estate_cossacks
			share = 5
		}
		add_estate_loyalty = {
			estate = estate_cossacks
			loyalty = 10
		}
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = -10
		}
		random_owned_province = {
			limit = {
				OR = {
					area = moldavia_area
					area = bessarabia_area
				}
			}
			spawn_small_scaled_rebels = {
				type = noble_rebels
				no_defined_leader = yes
			}
		}
	}
	option = {
		name = AB_wallachia_events.9.c
		highlight = yes
		trigger = {
			ruler_has_personality = impaler_personality
		}
		change_estate_land_share = {
			estate = estate_nobles
			share = -2
		}
		custom_tooltip = AB_wallachia_events.9_province_bonus_tooltip
		tooltip = {
			add_devastation = 15
			add_base_tax = -1
			add_local_autonomy = -30
			add_province_modifier = {
				name = wallachia_cut_down_the_moldavian_nobility
				duration = -1
			}
		}
		hidden_effect = {
			every_owned_province = {
				limit = {
					OR = {
						area = moldavia_area
						area = bessarabia_area
					}
				}
				add_devastation = 15
				add_base_tax = -1
				add_local_autonomy = -30
				add_province_modifier = {
					name = wallachia_cut_down_the_moldavian_nobility
					duration = -1
				}
			}
		}
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = -10
		}
		random_owned_province = {
			limit = {
				OR = {
					area = moldavia_area
					area = bessarabia_area
				}
			}
			spawn_small_scaled_rebels = {
				type = noble_rebels
				no_defined_leader = yes
			}
		}
		random_owned_province = {
			limit = {
				OR = {
					area = moldavia_area
					area = bessarabia_area
				}
				has_rebels_in_province = no
			}
			spawn_small_scaled_rebels = {
				type = noble_rebels
				no_defined_leader = yes
			}
		}
		random_owned_province = {
			limit = {
				OR = {
					area = moldavia_area
					area = bessarabia_area
				}
				has_rebels_in_province = no
			}
			spawn_small_scaled_rebels = {
				type = noble_rebels
				no_defined_leader = yes
			}
		}
		change_terror = {
			value = 10
			scaled_with_gain_modifier = yes
		}
	}
}
