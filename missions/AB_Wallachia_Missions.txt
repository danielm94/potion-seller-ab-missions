ab_wal_boier_compromise_missions = {
	slot = 1
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		is_or_was_wallachia = yes
		has_wallachia_purged_the_estates = no
	}
	wal_placate_the_boieri = {
		icon = mission_noble_council
		position = 1
		trigger = {
			if = {
				limit = {
					has_country_flag = debug
				}
				always = yes
			}
			else = {
				num_of_estate_agendas_completed = {
					estate = estate_nobles
					value = 2
				}
				estate_loyalty = {
					estate = estate_nobles
					loyalty = 60
				}
			}
		}
		effect = {
			add_country_modifier = {
				name = wallachia_placating_the_boieri
				duration = 10950
			}
			custom_tooltip = wal_placate_the_boieri_effect_tooltip
		}
	}
	wal_compromise_with_the_boieri = {
		icon = gfx_wal_compromise_with_the_boieri
		position = 2
		required_missions = {
			wal_placate_the_boieri
		}
		trigger = {
			if = {
				limit = {
					has_country_flag = debug
				}
				always = yes
			}
			else = {
				num_of_estate_agendas_completed = {
					estate = estate_nobles
					value = 3
				}
				has_reform = maintain_nobles_status_quo_reform
				num_of_estate_privileges = {
					estate = estate_nobles
					value = 5
				}
				estate_loyalty = {
					estate = estate_nobles
					loyalty = 70
				}
			}
		}
		effect = {
			add_estate_loyalty = {
				estate = estate_nobles
				loyalty = 10
			}
			custom_tooltip = wal_compromise_with_the_boieri_increased_levies_bonus_tooltip
			custom_tooltip = wal_compromise_with_the_boieri_advisor_privilege_bonus_tooltip
			hidden_effect = {
				set_country_flag = wal_compromised_with_the_boieri
			}
			add_prestige = -10
			change_estate_land_share = {
				estate = estate_nobles
				share = 5
			}
			custom_tooltip = wal_compromise_with_the_boieri_can_no_longer_seize_from_boieri_tooltip
			custom_tooltip = wal_compromise_with_the_boieri_dont_panic_tooltip
		}
	}
	wal_the_great_feast = {
		icon = gfx_wal_the_great_feast
		position = 3
		required_missions = {
			wal_compromise_with_the_boieri
		}
		trigger = {
			if = {
				limit = {
					has_country_flag = debug
				}
				always = yes
			}
			else = {
				num_of_estate_agendas_completed = {
					estate = estate_nobles
					value = 5
				}
				estate_loyalty = {
					estate = estate_nobles
					loyalty = 90
				}
				crown_land_share = 30
			}
		}
		effect = {
			custom_tooltip = cant_form_dacia_tooltip
			custom_tooltip = tooltip_line_divider
			custom_tooltip = form_tuh_tooltip
			if = {
				limit = {
					has_country_modifier = wallachia_placating_the_boieri
				}
				custom_tooltip = wal_the_great_feast_mod_bonus_tooltip_yes
				hidden_effect = {
					remove_country_modifier = wallachia_placating_the_boieri
				}
				add_country_modifier = {
					name = boier_compact
					duration = 36500
				}
			}
			else = {
				custom_tooltip = wal_the_great_feast_mod_bonus_tooltip_no
				tooltip = {
					add_country_modifier = {
						name = boier_compact
						duration = 36500
					}
				}
			}
			country_event = {
				id = AB_wallachia_events.13
			}
		}
	}
}

ab_wal_slayed_the_boieri_missions = {
	slot = 1
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		is_or_was_wallachia = yes
		has_wallachia_purged_the_estates = yes
	}
}

ab_wal_2 = {
	slot = 2
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		is_or_was_wallachia = yes
	}
	wal_unite_the_principalities = {
		icon = gfx_wal_unite_the_principalities
		position = 2
		required_missions = {
			wal_call_to_arms
		}
		provinces_to_highlight = {
			OR = {
				area = moldavia_area
				area = bessarabia_area
			}
			NOT = {
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		trigger = {
			moldavia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			bessarabia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_permanent_claim_multi_provinces = {
				target = yedisan_area
			}
			add_permanent_claim_multi_provinces = {
				target = zaporizhia_area
			}
			add_permanent_claim_multi_provinces = {
				target = crimea_area
			}
			add_permanent_claim_multi_provinces = {
				target = azov_area
			}
			custom_tooltip = tooltip_line_divider
			if = {
				limit = {
					has_vlad_2nd_or_3rd_ruling = yes
				}
				custom_tooltip = has_vlad_2nd_or_3rd_ruling_tooltip_yes
				change_ruler_stat = {
					type = mil
					amount = 1
				}
			}
			else = {
				custom_tooltip = has_vlad_2nd_or_3rd_ruling_tooltip_no
				tooltip = {
					change_ruler_stat = {
						type = mil
						amount = 1
					}
				}
			}
			add_prestige_or_monarch_power = {
				amount = 5
			}
			country_event = {
				id = AB_wallachia_events.9
			}
		}
	}
	wal_pontic_dominion = {
		icon = gfx_wal_pontic_dominion
		position = 3
		required_missions = {
			wal_unite_the_principalities
		}
		provinces_to_highlight = {
			OR = {
				area = yedisan_area
				area = zaporizhia_area
				area = crimea_area
				area = azov_area
			}
			NOT = {
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		trigger = {
			yedisan_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			zaporizhia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			crimea_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			azov_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_permanent_claim_multi_provinces = {
				target = astrakhan_area
			}
			add_permanent_claim_multi_provinces = {
				target = lower_don_area
			}
			add_permanent_claim_multi_provinces = {
				target = circassia_area
			}
			add_permanent_claim_multi_provinces = {
				target = dagestan_area
			}
			custom_tooltip = tooltip_line_divider
			add_country_modifier = {
				name = wallachia_build_the_black_sea_fleet
				duration = 10950
			}
			if = {
				limit = {
					has_government_mechanic = wallachian_terror_mechanic
				}
			}
			complex_dynamic_effect = {
				first_custom_tooltip = wal_pontic_dominion_impale_tooltip
				first_limit = "has_country_flag = wallachia_impaled_golden_horde"
				effect = "change_terror = {
					value = 5
					scaled_with_gain_modifier = yes
				}"
			}
			set_country_flag = wallachian_terror_reduced_raze_penalty
			complex_dynamic_effect = {
				first_custom_tooltip = if_we_have_terror_mechanics_enabled_tooltip
				first_limit = "has_government_mechanic = wallachian_terror_mechanic"
				first_effect = "custom_tooltip = wallachian_terror_reduced_raze_penalty_tooltip"
			}
			custom_tooltip = AB_EMPTY
			#TUH
			complex_dynamic_effect = {
				first_custom_tooltip = if_we_have_romanian_elective_monarchy_tooltip
				first_limit = "has_government_mechanic = romanian_elective_monarchy_mechanic"
				first_effect = "tuh_clear_government_mechanic_cooldowns = yes"
			}
			add_mil_power = 50
		}
	}
	wal_conquer_the_serbs = {
		icon = defeat_the_serbs
		position = 4
		required_missions = {
			wal_unite_the_vlachs
		}
		provinces_to_highlight = {
			OR = {
				area = serbia_area
				area = rascia_area
			}
			NOT = {
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		trigger = {
			serbia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			rascia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_permanent_claim_multi_provinces = {
				target = croatia_area
			}
			add_permanent_claim_multi_provinces = {
				target = east_adriatic_coast_area
			}
			add_permanent_claim_multi_provinces = {
				target = slavonia_area
			}
			custom_tooltip = tooltip_line_divider
			complex_dynamic_effect = {
				first_custom_tooltip = if_we_have_a_master_of_the_mint_tooltip
				first_limit = "employed_advisor = {
					type = master_of_mint
				}"
				first_effect = "1766 = {
			add_province_modifier = {
				name = wallachia_develop_kosovo_gold
				duration = -1
			}
		}"
			}
			add_mil_power = 50
			set_country_flag = dof_liberation_mechanic
			custom_tooltip = dof_liberation_mechanic_tooltip
			tooltip = {
				add_province_modifier = {
					name = wallachia_liberated_orthodox_bretheren_from_heretics
					duration = 7300
				}
			}
			country_event = {
				id = AB_wallachia_events.27
			}
		}
	}
	wal_conquer_illyria = {
		icon = secure_the_sava
		position = 5
		required_missions = {
			wal_conquer_the_serbs
			wal_drive_out_the_bulgars
		}
		provinces_to_highlight = {
			OR = {
				area = bosnia_area
				area = east_adriatic_coast_area
				area = croatia_area
				area = slavonia_area
			}
			NOT = {
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		trigger = {
			bosnia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			east_adriatic_coast_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			croatia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			slavonia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_permanent_claim_multi_provinces = {
				target = carinthia_area
			}
			add_permanent_claim_multi_provinces = {
				target = venetia_area
			}
			add_permanent_claim_multi_provinces = {
				target = inner_austria_area
			}
			add_permanent_claim_multi_provinces = {
				target = austria_proper_area
			}
			add_permanent_claim_multi_provinces = {
				target = tirol_area
			}
			custom_tooltip = tooltip_line_divider
			define_advisor = {
				type = commandant
				skill = 2
				cost_multiplier = 0.5
				religion = ROOT
				culture = ROOT
			}
			add_country_modifier = {
				name = wallachia_construct_the_adriatic_fleet
				duration = 5475
			}
			custom_tooltip = wal_conquer_illyria_conversion_tooltip
			tooltip = {
				add_province_modifier = {
					name = wallachia_convert_illyria
					duration = 7300
				}
			}
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							area = bosnia_area
							area = east_adriatic_coast_area
							area = croatia_area
							area = slavonia_area
						}
						religion = catholic
					}
					add_province_modifier = {
						name = wallachia_convert_illyria
						duration = 7300
					}
				}
			}
			custom_tooltip = romanization_of_illyria_tooltip
			set_country_flag = wal_romanianization_of_illyria
		}
	}
}

ab_wal_3 = {
	slot = 3
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		is_or_was_wallachia = yes
	}
	wal_call_to_arms = {
		icon = mission_landsknecht_soldier
		position = 1
		trigger = {
			OR = {
				army_size_percentage = 0.8
				manpower_percentage = 1
			}
		}
		effect = {
			add_permanent_claim_on_all_neighboring_provinces = yes
			add_permanent_claim_multi_provinces = {
				target = moldavia_area
			}
			add_permanent_claim_multi_provinces = {
				target = bessarabia_area
			}
			add_permanent_claim_multi_provinces = {
				target = southern_transylvania_area
			}
			add_permanent_claim_multi_provinces = {
				target = transylvania_area
			}
			custom_tooltip = tooltip_line_divider
			if = {
				limit = {
					has_vlad_2nd_or_3rd_ruling = yes
				}
				custom_tooltip = has_vlad_2nd_or_3rd_ruling_tooltip_yes
				define_ruler_to_general = {
					fire = 3
					shock = 4
					manuever = 3
					siege = 1
				}
			}
			else = {
				custom_tooltip = has_vlad_2nd_or_3rd_ruling_tooltip_no
				create_general = {
					tradition = 40
				}
			}
			add_country_modifier = {
				name = wallachia_securing_the_homeland
				duration = 5475
			}
		}
	}
	wal_strike_the_bulgars = {
		icon = push_on_to_bulgaria
		position = 2
		required_missions = {
			wal_call_to_arms
		}
		provinces_to_highlight = {
			OR = {
				province_id = 4706
				province_id = 159
				province_id = 4704
				province_id = 150
				province_id = 2746
				province_id = 4957
			}
			NOT = {
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		trigger = {
			4706 = {
				country_or_non_sovereign_subject_holds = ROOT
			}
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 3
				OR = {
					province_id = 159
					province_id = 4704
					province_id = 150
					province_id = 2746
					province_id = 4957
				}
			}
		}
		effect = {
			add_permanent_claim_multi_provinces = {
				target = thrace_area
			}
			add_permanent_claim_multi_provinces = {
				target = bulgaria_area
			}
			add_core = 4706
			custom_tooltip = tooltip_line_divider
			if = {
				limit = {
					has_vlad_2nd_or_3rd_ruling = yes
				}
				custom_tooltip = has_vlad_2nd_or_3rd_ruling_tooltip_yes
				change_ruler_stat = {
					type = dip
					amount = 1
				}
			}
			else = {
				custom_tooltip = has_vlad_2nd_or_3rd_ruling_tooltip_no
				tooltip = {
					change_ruler_stat = {
						type = dip
						amount = 1
					}
				}
			}
			if = {
				limit = {
					is_rival = BUL
				}
				custom_tooltip = wal_strike_the_bulgars_bul_rival_tooltip_yes
				add_splendor = 100
			}
			else = {
				custom_tooltip = wal_strike_the_bulgars_bul_rival_tooltip_no
				tooltip = {
					add_splendor = 100
				}
			}
			if = {
				limit = {
					has_country_flag = wallachia_impaled_bulgaria
				}
				custom_tooltip = wal_strike_the_bulgars_impale_tooltip_yes
				change_terror = {
					value = 5
					scaled_with_gain_modifier = yes
				}
			}
			else = {
				custom_tooltip = wal_strike_the_bulgars_impale_tooltip_no
				tooltip = {
					change_terror = {
						value = 5
						scaled_with_gain_modifier = yes
					}
				}
			}
			add_army_tradition_or_mil_power = {
				amount = 10
			}
			add_adm_power = 50
		}
	}
	wal_unite_the_vlachs = {
		icon = gfx_wal_unite_the_vlachs
		position = 3
		required_missions = {
			wal_liberate_transylvania
			wal_strike_the_bulgars
			wal_unite_the_principalities
		}
		provinces_to_highlight = {
			OR = {
				area = transylvania_area
				area = southern_transylvania_area
				area = moldavia_area
				area = bessarabia_area
				province_id = 4706
			}
			NOT = {
				AND = {
					is_core = ROOT
					country_or_non_sovereign_subject_holds = ROOT
				}
			}
		}
		trigger = {
			transylvania_area = {
				type = all
				is_core = ROOT
				country_or_non_sovereign_subject_holds = ROOT
			}
			southern_transylvania_area = {
				type = all
				is_core = ROOT
				country_or_non_sovereign_subject_holds = ROOT
			}
			moldavia_area = {
				type = all
				is_core = ROOT
				country_or_non_sovereign_subject_holds = ROOT
			}
			bessarabia_area = {
				type = all
				is_core = ROOT
				country_or_non_sovereign_subject_holds = ROOT
			}
			4706 = {
				is_core = ROOT
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_permanent_claim_multi_provinces = {
				target = macedonia_area
			}
			add_permanent_claim_multi_provinces = {
				target = northern_greece_area
			}
			add_permanent_claim_multi_provinces = {
				target = morea_area
			}
			add_permanent_claim_multi_provinces = {
				target = albania_area
			}
			add_permanent_claim_multi_provinces = {
				target = rascia_area
			}
			add_permanent_claim_multi_provinces = {
				target = serbia_area
			}
			add_permanent_claim_multi_provinces = {
				target = bosnia_area
			}
			custom_tooltip = tooltip_line_divider
			if = {
				limit = {
					has_vlad_2nd_or_3rd_ruling = yes
				}
				custom_tooltip = has_vlad_2nd_or_3rd_ruling_tooltip_yes
				change_ruler_stat = {
					type = adm
					amount = 1
				}
			}
			else = {
				custom_tooltip = has_vlad_2nd_or_3rd_ruling_tooltip_no
				tooltip = {
					change_ruler_stat = {
						type = adm
						amount = 1
					}
				}
			}
			add_ruler_modifier = {
				name = wallachia_unifier_of_the_vlachs
				duration = -1
			}
			free_up_bad_ruler_personality_if_full = yes
			add_ruler_personality = conqueror_personality
			add_power_projection = {
				type = wallachia_unified_vlachs_pp
				amount = 15
			}
			add_prestige_or_monarch_power = {
				amount = 15
			}
			custom_tooltip = wal_unite_the_vlachs_autonomy_tooltip
			hidden_effect = {
				every_owned_province = {
					limit = {
						culture_group = romanian_culture_group
					}
					add_local_autonomy = -10
					add_nationalism = -5
				}
			}
			custom_tooltip = wal_unite_the_vlachs_dacia_tooltip
			hidden_effect = {
				set_country_flag = early_form_dacia
			}
		}
	}
	wal_drive_out_the_bulgars = {
		icon = gfx_wal_drive_out_the_bulgars
		position = 4
		required_missions = {
			wal_unite_the_vlachs
		}
		provinces_to_highlight = {
			owned_by = BUL
			OR = {
				region = balkan_region
				region = carpathia_region
			}
			NOT = {
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		trigger = {
			OR = {
				NOT = {
					exists = BUL
				}
				custom_trigger_tooltip = {
					tooltip = wal_drive_out_the_bulgars_trigger_tooltip
					NOT = {
						any_province = {
							owned_by = BUL
							OR = {
								region = balkan_region
								region = carpathia_region
							}
						}
					}
				}
			}
		}
		effect = {
			add_prestige_or_monarch_power = {
				amount = 10
			}
			add_army_tradition_or_mil_power = {
				amount = 10
			}
			add_power_projection = {
				type = drove_out_the_bulgars_pp
				amount = 20
			}
			country_event = {
				id = AB_wallachia_events.22
			}
		}
	}
	wal_balkan_hegemony = {
		icon = mission_balkan_conquest
		position = 6
		required_missions = {
			wal_conquer_illyria
			wal_drive_out_the_bulgars
			wal_conquer_greece
		}
		provinces_to_highlight = {
			region = balkan_region
			NOT = {
				AND = {
					country_or_non_sovereign_subject_holds = ROOT
					is_core = ROOT
				}
			}
		}
		trigger = {
			balkan_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
				is_core = ROOT
			}
		}
		effect = {
			complex_dynamic_effect = {
				first_custom_tooltip = has_vlad_2nd_or_3rd_ruling_tooltip
				first_limit = "has_vlad_2nd_or_3rd_ruling = yes"
				first_effect = "change_ruler_stat = {
					type = adm
					amount = 1
				}
				change_ruler_stat = {
					type = dip
					amount = 1
				}
				change_ruler_stat = {
					type = mil
					amount = 1
				}"
			}
			custom_tooltip = AB_EMPTY
			free_up_bad_ruler_personality_if_full = yes
			add_ruler_personality = legendary_conqueror_personality
			custom_tooltip = tooltip_line_divider
			add_prestige_or_monarch_power = {
				amount = 25
			}
			custom_tooltip = AB_EMPTY
			add_country_modifier = {
				name = wallachia_balkan_hegemon
				duration = 36500
			}
			country_event = {
				id = AB_wallachia_events.29
			}
		}
	}
}

ab_wal_4 = {
	slot = 4
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		is_or_was_wallachia = yes
	}
	wal_liberate_transylvania = {
		icon = gfx_wal_liberate_transylvania
		position = 2
		required_missions = {
			wal_call_to_arms
		}
		provinces_to_highlight = {
			OR = {
				area = transylvania_area
				area = southern_transylvania_area
			}
			NOT = {
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 8
				OR = {
					area = transylvania_area
					area = southern_transylvania_area
				}
			}
		}
		effect = {
			add_permanent_claim_multi_provinces = {
				target = alfold_area
			}
			add_permanent_claim_multi_provinces = {
				target = centralhungary_area
			}
			add_permanent_claim_multi_provinces = {
				target = eastslovakia_area
			}
			custom_tooltip = tooltip_line_divider
			if = {
				limit = {
					has_vlad_2nd_or_3rd_ruling = yes
				}
				custom_tooltip = has_vlad_2nd_or_3rd_ruling_tooltip_yes
				change_ruler_stat = {
					type = adm
					amount = 1
				}
			}
			else = {
				custom_tooltip = has_vlad_2nd_or_3rd_ruling_tooltip_no
				tooltip = {
					change_ruler_stat = {
						type = adm
						amount = 1
					}
				}
			}
			if = {
				limit = {
					has_country_flag = wallachia_impaled_magyars
				}
				custom_tooltip = wal_liberate_transylvania_impale_tooltip_yes
				change_terror = {
					value = 5
					scaled_with_gain_modifier = yes
				}
			}
			else = {
				custom_tooltip = wal_liberate_transylvania_impale_tooltip_no
				tooltip = {
					change_terror = {
						value = 5
						scaled_with_gain_modifier = yes
					}
				}
			}
			add_army_tradition_or_mil_power = {
				amount = 15
			}
			add_accepted_culture_or_dip_power = {
				culture = transylvanian
			}
			custom_tooltip = wal_liberate_transylvania_heathen_tooltip
			tooltip = {
				add_province_modifier = {
					name = wallachia_establish_mountain_monasteries
					duration = 7300
				}
			}
			hidden_effect = {
				transylvania_area = {
					limit = {
						religion = tengri_pagan_reformed
					}
					add_province_modifier = {
						name = wallachia_establish_mountain_monasteries
						duration = 7300
					}
				}
				southern_transylvania_area = {
					limit = {
						religion = tengri_pagan_reformed
					}
					add_province_modifier = {
						name = wallachia_establish_mountain_monasteries
						duration = 7300
					}
				}
			}
			custom_tooltip = wal_liberate_transylvania_bretheren_tooltip
			tooltip = {
				add_province_modifier = {
					name = wallachia_liberated_bretheren
					duration = 7300
				}
			}
			hidden_effect = {
				transylvania_area = {
					limit = {
						culture = transylvanian
					}
					add_province_modifier = {
						name = wallachia_liberated_bretheren
						duration = 7300
					}
				}
				southern_transylvania_area = {
					limit = {
						culture = transylvanian
					}
					add_province_modifier = {
						name = wallachia_liberated_bretheren
						duration = 7300
					}
				}
			}
		}
	}
	wal_crush_the_magyars = {
		icon = gfx_wal_crush_the_magyars
		position = 3
		required_missions = {
			wal_liberate_transylvania
		}
		provinces_to_highlight = {
			OR = {
				area = alfold_area
				area = centralhungary_area
				area = eastslovakia_area
			}
			NOT = {
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		trigger = {
			alfold_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			centralhungary_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			eastslovakia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_permanent_claim_multi_provinces = {
				target = transdanubia_area
			}
			add_permanent_claim_multi_provinces = {
				target = slovakia_area
			}
			add_permanent_claim_multi_provinces = {
				target = moravia_area
			}
			custom_tooltip = tooltip_line_divider
			define_advisor = {
				type = inquisitor
				skill = 2
				cost_multiplier = 0.5
				religion = ROOT
				culture = ROOT
			}
			if = {
				limit = {
					exists = MGY
				}
				custom_tooltip = wal_crush_the_magyars_mgy_exists_tooltip_no
				tooltip = {
					change_ruler_stat = {
						type = mil
						amount = 1
					}
				}
			}
			else = {
				custom_tooltip = wal_crush_the_magyars_mgy_exists_tooltip_yes
				change_ruler_stat = {
					type = mil
					amount = 1
				}
			}
			custom_tooltip = wal_transylvania_romanianization_tooltip
			custom_tooltip = wal_hungary_romanianization_tooltip
			set_country_flag = wal_romanianization_of_hungary
		}
	}
	wal_worlds_desire = {
		icon = byz_city_of_worlds_desire
		position = 4
		required_missions = {
			wal_unite_the_vlachs
		}
		provinces_to_highlight = {
			area = thrace_area
			NOT = {
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		trigger = {
			thrace_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_permanent_claim_multi_provinces = {
				target = hudavendigar_area
			}
			add_permanent_claim_multi_provinces = {
				target = aydin_area
			}
			add_permanent_claim_multi_provinces = {
				target = aegean_archipelago_area
			}
			add_permanent_claim_multi_provinces = {
				target = ionian_islands_area
			}
			custom_tooltip = tooltip_line_divider
			complex_dynamic_effect = {
				first_custom_tooltip = if_we_have_impaled_byz_tooltip
				first_limit = "has_country_flag = wallachia_impaled_byzantium"
				first_effect = "change_terror = {
				value = 5
				scaled_with_gain_modifier = yes
			}"
			}
			custom_tooltip = AB_EMPTY
			set_government_rank = 3
			add_prestige_or_monarch_power = {
				amount = 10
			}
			add_legitimacy_or_mil_power = {
				amount = 10
			}
			country_event = {
				id = AB_wallachia_events.21
			}
		}
	}
	wal_conquer_greece = {
		icon = mission_parthenon
		position = 5
		required_missions = {
			wal_worlds_desire
			wal_drive_out_the_bulgars
		}
		provinces_to_highlight = {
			OR = {
				area = macedonia_area
				area = northern_greece_area
				area = morea_area
				area = ionian_islands_area
				area = aegean_archipelago_area
			}
			NOT = {
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		trigger = {
			macedonia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			northern_greece_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			morea_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			ionian_islands_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				area = aegean_archipelago_area
				value = 4
			}
		}
		effect = {
			set_country_flag = artists_help_with_great_projects
			custom_tooltip = artists_help_with_great_projects_tooltip
			define_advisor = {
				type = philosopher
				skill = 3
				cost_multiplier = 0.33333
				culture = greek
				religion = ROOT
			}
			complex_dynamic_effect = {
				first_custom_tooltip = mavrocordatos_ruler_tooltip
				first_limit = "dynasty = Mavrocordatos"
				first_effect = "tooltip = {
				add_unrest = -5
				add_nationalism = -5
			}
			hidden_effect = {
				every_owned_province = {
					limit = {
						culture = greek
					}
					add_unrest = -5
					add_nationalism = -5
				}
			}"
			}
			set_country_flag = mavrocordatos_candidate_buff
			custom_tooltip = mavrocordatos_candidate_buff_tooltip
			add_accepted_culture_or_dip_power_stated = {
				culture = greek
				dip_reward = yes
			}
		}
	}
	wal_secure_the_straits = {
		icon = mission_the_bospborus
		position = 5
		required_missions = {
			wal_conquer_greece
			wal_conquer_nicaea
		}
		trigger = {
			aegean_archipelago_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			any_owned_province = {
				has_trade_building_trigger = yes
				OR = {
					has_dock_building_trigger = yes
					has_shipyard_building_trigger = yes
				}
				area = hudavendigar_area
			}
			any_owned_province = {
				has_trade_building_trigger = yes
				OR = {
					has_dock_building_trigger = yes
					has_shipyard_building_trigger = yes
				}
				area = aydin_area
			}
			any_owned_province = {
				has_trade_building_trigger = yes
				OR = {
					has_dock_building_trigger = yes
					has_shipyard_building_trigger = yes
				}
				area = thrace_area
			}
			any_owned_province = {
				has_trade_building_trigger = yes
				OR = {
					has_dock_building_trigger = yes
					has_shipyard_building_trigger = yes
				}
				area = macedonia_area
			}
			any_owned_province = {
				has_trade_building_trigger = yes
				OR = {
					has_dock_building_trigger = yes
					has_shipyard_building_trigger = yes
				}
				area = morea_area
			}
		}
		effect = {
			add_mercantilism = 5
			custom_tooltip = wal_secure_the_straits_province_bonus_tooltip
			tooltip = {
				151 = {
					add_province_modifier = {
						name = wallachia_imperial_maratime_hub
						duration = -1
					}
				}
			}
			hidden_effect = {
				every_owned_province = {
					limit = {
						OR = {
							area = hudavendigar_area
							area = aydin_area
							area = thrace_area
							area = macedonia_area
							area = morea_area
							area = northern_greece_area
							area = aegean_archipelago_area
						}
						has_trade_building_trigger = yes
						OR = {
							has_dock_building_trigger = yes
							has_shipyard_building_trigger = yes
						}
					}
					add_province_modifier = {
						name = wallachia_imperial_maratime_hub
						duration = -1
					}
				}
			}
			add_country_modifier = {
				name = wallachia_ionian_company_investments
				duration = 14600
			}
			complex_dynamic_effect = {
				first_custom_tooltip = if_we_have_romanian_elective_monarchy_tooltip
				first_limit = "has_government_attribute = romanian_elective_monarchy"
				first_effect = "set_country_flag = movilesti_election_bonus
				custom_tooltip = wal_secure_the_straits_movilesti_bonus_tooltip
			tooltip = {
				define_advisor = {
					type = trader
					skill = 2
					cost_multiplier = 0.35
					age = 20
					culture = ROOT
					religion = ROOT
				}
				add_mercantilism = 5
			}"
			}
			set_country_flag = movilesti_election_bonus
		}
	}
}

ab_wal_5 = {
	slot = 5
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		is_or_was_wallachia = yes
	}
	#TODO: Spread this mission's rewards across another 1 or 2 missions
	wal_seal_the_carpathians = {
		icon = gfx_wal_seal_the_carpathians
		position = 4
		required_missions = {
			wal_crush_the_magyars
		}
		provinces_to_highlight = {
			OR = {
				area = transdanubia_area
				area = slovakia_area
				area = moravia_area
			}
			NOT = {
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		trigger = {
			transdanubia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			slovakia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			moravia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			set_country_flag = wal_buffed_carpathian_forts
			custom_tooltip = wal_buffed_carpathian_forts_tooltip
			tooltip = {
				4128 = {
					upgrade_fort_building = yes
					add_province_modifier = {
						name = wallachia_carpathian_defenses
						duration = -1
					}
				}
			}
			hidden_effect = {
				every_owned_province = {
					limit = {
						region = carpathia_region
						has_fort_building_trigger = yes
					}
					upgrade_fort_building = yes
					add_province_modifier = {
						name = wallachia_carpathian_defenses
						duration = -1
					}
				}
			}
			custom_tooltip = buffed_bran_castle_reward_tooltip
			set_country_flag = upgraded_bran_castle
			custom_tooltip = AB_EMPTY
			custom_tooltip = panonic_culture_spread_to_slovakia_and_panonia_tooltip
			set_country_flag = panonic_spread_extra
			custom_tooltip = AB_EMPTY
			define_advisor = {
				type = fortification_expert
				skill = 2
				cost_multiplier = 0.5
				culture = transylvanian
				religion = root
			}
		}
	}
	wal_conquer_nicaea = {
		icon = mission_nicaea
		position = 5
		required_missions = {
			wal_worlds_desire
		}
		provinces_to_highlight = {
			OR = {
				area = hudavendigar_area
				area = aydin_area
			}
			NOT = {
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		trigger = {
			hudavendigar_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			aydin_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_permanent_claim_multi_provinces = {
				target = anatolia_region
			}
			custom_tooltip = tooltip_line_divider
			complex_dynamic_effect = {
				first_custom_tooltip = wal_nicaea_dead_tooltip
				first_limit = "NOT = {
				exists = NCI
			}"
				first_effect = "custom_tooltip = wal_nicaea_lose_all_cores_tooltip
			hidden_effect = {
				every_owned_province = {
					limit = {
						is_core = NCI
					}
					remove_core = NCI
				}
			}"
			}
			custom_tooltip = AB_EMPTY
			add_country_modifier = {
				name = byzantium_pushing
				duration = 5475
			}
			add_army_professionalism = 0.05
			custom_tooltip = AB_EMPTY
			316 = {
				add_unit_construction = {
					type = galley
					amount = 5
					speed = 0.5
					cost = 0
				}
			}
		}
	}
	wal_conquer_anatolia = {
		icon = geo_turkoman
		position = 6
		required_missions = {
			wal_conquer_nicaea
		}
		provinces_to_highlight = {
			region = anatolia_region
			NOT = {
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		trigger = {
			anatolia_region = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			add_permanent_claim_multi_provinces = {
				target = mashriq_region
			}
			add_permanent_claim_multi_provinces = {
				target = samtskhe_area
			}
			add_permanent_claim_multi_provinces = {
				target = imereti_area
			}
			add_permanent_claim_multi_provinces = {
				target = kartli_kakheti_area
			}
			add_permanent_claim_multi_provinces = {
				target = armenia_area
			}
			add_permanent_claim_multi_provinces = {
				target = shirvan_area
			}
			custom_tooltip = tooltip_line_divider
			add_army_tradition_or_mil_power = {
				amount = 25
			}
			add_country_modifier = {
				name = wallachia_reintroduce_the_theme_system
				duration = -1
			}
			complex_dynamic_effect = {
				first_custom_tooltip = if_we_impaled_seljuks_tooltip
				first_limit = "has_country_flag = wallachia_impaled_seljuks"
				first_effect = "change_terror = {
				value = 20
				scaled_with_gain_modifier = yes
			}
			add_adm_power = 10
			add_dip_power = 10
			add_mil_power = 10"
			}
			custom_tooltip = AB_EMPTY
			complex_dynamic_effect = {
				first_custom_tooltip = if_we_have_romanian_elective_monarchy_tooltip
				first_limit = "has_government_attribute = romanian_elective_monarchy"
				first_effect = "set_country_flag = tuh_anatolia_greek_resettlement
			custom_tooltip = tuh_greek_resettlement_anatolia"
			}
		}
	}
	wal_caucasus = {
		icon = mission_the_caucasus_rus
		position = 7
		required_missions = {
			wal_conquer_anatolia
		}
		provinces_to_highlight = {
			OR = {
				area = samtskhe_area
				area = armenia_area
				area = kartli_kakheti_area
				area = imereti_area
				area = shirvan_area
			}
			NOT = {
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		trigger = {
			samtskhe_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			armenia_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			kartli_kakheti_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			imereti_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
			shirvan_area = {
				type = all
				country_or_non_sovereign_subject_holds = ROOT
			}
		}
		effect = {
			custom_tooltip = wal_caucas_forts_tooltip
			set_country_flag = wal_buffed_caucasian_forts
			tooltip = {
				423 = {
					upgrade_fort_building = yes
					add_province_modifier = {
						name = wallachia_gate_of_the_caucasus
						duration = -1
					}
				}
			}
			hidden_effect = {
				every_owned_province = {
					limit = {
						region = caucasia_region
						has_fort_building_trigger = yes
					}
					upgrade_fort_building = yes
					add_province_modifier = {
						name = wallachia_gate_of_the_caucasus
						duration = -1
					}
				}
			}
			if = {
				limit = {
					423 = {
						owned_by = ROOT
					}
				}
				423 = {
					add_province_modifier = {
						name = wallachia_build_narikala_fortress
						duration = -1
					}
				}
			}
			add_accepted_culture_or_dip_power_stated = {
				culture = georgian
				dip_reward = yes
			}
			custom_tooltip = AB_EMPTY
			custom_tooltip = wal_fort_advisor_buff_flag_tooltip
			set_country_flag = wal_fort_advisor_buff_flag
		}
	}
}
